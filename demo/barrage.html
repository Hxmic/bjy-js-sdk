<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>弹幕</title>
  <style>

      #barrage {
          background-color: #ccc;
          width: 600px;
          height: 400px;
          position: relative;
          margin-top: 20px;
      }

      .bjy-barrage {
          background-color: #FFF;
          color: blue;
          padding: 2px 4px;
      }

  </style>
</head>
<body>

    <h5>
        直播中会把聊天消息发送到弹幕上，你也可以用下面的按钮进行测试
        （弹幕样式需自定义）
    </h5>

    <div>
        <input type="text">

        <span>
            当前状态：<small class="status"></small>
        </span>

        <button onclick="sendMessage()">
            发送
        </button>

        <button onclick="openBarrage()">
            开启弹幕
        </button>

        <button onclick="closeBarrage()">
            关闭弹幕
        </button>

    </div>

    <div id="barrage">

    </div>

    <script src="http://cdn.bootcss.com/jquery/1.12.4/jquery.js"></script>
    <script src="http://live-cdn.baijiacloud.com/js-sdk/0.0.332/classroom/classroom.js"></script>
    <script src="http://live-cdn.baijiacloud.com/js-sdk/0.0.332/barrage/Barrage.js"></script>
    <script>

        var barrage = new BJY.Barrage({
            container: $('#barrage'),
            // 移动速度，每秒移动多少个像素
            speed: 100,
            // 最长可显示多少个字，超过这个字数的会过滤
            maxLength: 20,
            // 在 top - bottom 的区间出现弹幕
            top: 30,
            bottom: 30,
            // 轨道高度
            trackHeight: 30
        });

        var statusElement = $('.status');

        function sendMessage() {
            barrage.send(
                $('input').val()
            );
        }

        function openBarrage() {
            barrage.open();
            statusElement.html('开');
        }

        function closeBarrage() {
            barrage.close();
            statusElement.html('关');
        }

        openBarrage();

    </script>
</body>
</html>