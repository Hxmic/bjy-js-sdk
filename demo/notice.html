<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>公告</title>
    <link rel="stylesheet" href="http://live-cdn.baijiacloud.com/js-sdk/0.0.218/notice/notice.css">
    <style>

        #notice {
            width: 300px;
            height: 300px;
        }

    </style>
</head>
<body>

    <div id="notice">
        <div class="placeholder">

        </div>
        <button onclick="edit()">
            编辑
        </button>
    </div>

    <script src="http://cdn.bootcss.com/jquery/1.12.4/jquery.js"></script>
    <script src="http://live-cdn.baijiacloud.com/js-sdk/0.0.218/classroom/classroom.js"></script>
    <script src="http://live-cdn.baijiacloud.com/js-sdk/0.0.218/notice/notice.js"></script>
    <script>

        BJY.init({
            env: 'test',
            class: {
                id: '17022337154216',
                name: '课程名称',
                startTime: 1489104000000,
                endTime: 1489190400000
            },
            user: {
                number: '44853061',
                avatar: 'http://img.gsxservice.com/30517_djgkb6i6.jpeg',
                name: 'asd',
                type: 0
            }
        });

        var eventEmitter = BJY.eventEmitter;
        var notice;

        eventEmitter
        .one(
            eventEmitter.VIEW_RENDER_TRIGGER,
            function (event, data) {

                notice = BJY.notice.init({
                    element: $('.placeholder'),
                    defaultContent: '默认内容',
                    saveButtonText: '保存',
                    cancelButtonText: '取消',
                    maxLength: 140,
                    onMaxLengthFailure: function () {
                        alert('超长啦');
                    }
                });

            }
        );


        function edit() {
            notice.set('editing', true);
        }

    </script>
</body>
</html>
