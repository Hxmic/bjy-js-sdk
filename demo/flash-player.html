<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Flash 播放器</title>

    <style>
        object {
            width: 400px;
            height: 300px;
        }
    </style>
</head>
<body>

    <a href="http://www.tuicool.com/articles/Y7jyU3u" target="_blank">
        相关资料
    </a>

    <p>
        播放器内部实现了响应对方的各种音视频切换，
        外部唯一需要做的只有两件事：

        <ul>
            <li>
                当对方打开音视频的任何一个时创建播放器
            </li>
            <li>
                当对方离开房间时销毁播放器
            </li>
        </ul>

        当对方尚未打开音视频，如果你认为空白不太好看，可以自定义样式，当对方打开音视频时，把播放器填充进去即可。

    </p>

    <div class="player">

    </div>

    <script src="http://cdn.bootcss.com/jquery/1.12.4/jquery.js"></script>
    <script src="http://live-cdn.baijiacloud.com/js-sdk/0.0.334/classroom/classroom.js"></script>
    <script src="http://live-cdn.baijiacloud.com/js-sdk/0.0.334/player/player.js"></script>
    <script src="http://live-cdn.baijiacloud.com/js-sdk/0.0.334/player/core/Player.js"></script>
    <script src="http://live-cdn.baijiacloud.com/js-sdk/0.0.334/player/extension/flash.js"></script>
    <script>

        BJY.init({
            env: 'production',
            class: {
                id: '17062983320563'
            },
            user: {
                number: '44853061',
                avatar: 'http://img.gsxservice.com/30517_djgkb6i6.jpeg',
                name: 'asd',
                type: 0
            }
        });

        var store = BJY.store;
        var eventEmitter = BJY.eventEmitter;

        var Player = BJY.Player;
        var flash = Player.flash;
        flash.pluginUrl = 'http://live.gsxservice.com/asset/flash/camera.swf';

        var teacherPlayer;

        eventEmitter
        .on(
            eventEmitter.TEACHER_MEDIA_ON,
            function () {
                if (!teacherPlayer) {
                    teacherPlayer = new Player({
                        element: $('.player'),
                        user: store.get('teacher'),
                        extension: flash
                    });
                }
            }
        )
        .on(
            eventEmitter.TEACHER_REMOVE,
            function () {
                if (teacherPlayer) {
                    teacherPlayer.dispose();
                }
            }
        );

    </script>
</body>
</html>
